define ("report_cmcompetency/bulkrating",["jquery","core/ajax","core/notification"],function(a,b,c){var d=function(b){this.cmid=b;a(document).on("submit","#savescalesvalues",this.saveHandler.bind(this));a(document).on("change",".donotapplybulk input[type=checkbox]",function(){var b=a(this).data("compid");a("#rating_table_comp"+b).toggleClass("enabled disabled");if(a(this).prop("checked")){a("#rating_table_comp"+b).find("input").prop("disabled",!0)}else{a("#rating_table_comp"+b).find("input").prop("disabled",!1)}})};d.prototype.cmid=null;d.prototype.saveHandler=function(){var d=[],e=this,f;a("#savescalesvalues .enabled input[type=radio]:checked").each(function(){var b=a(this).data("compid");d.push({compid:b,value:a(this).val()})});d=JSON.stringify(d);var g=a("#selectgroup select[name=group]");if(0<g.length){g=g.val()}else{g=0}f=b.call([{methodname:"report_cmcompetency_add_rating_task",args:{cmid:e.cmid,defaultscalesvalues:d,group:g}}]);f[0].done(function(b){if(b){a("#savescalesvalues input[type=submit]").attr("disabled",!0);a("#msg-success-cmrating").show()}}).fail(c.exception);return!1};return{init:function init(a){return new d(a)}}});
//# sourceMappingURL=bulkrating.min.js.map
